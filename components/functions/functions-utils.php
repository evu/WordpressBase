<?php/** * Add any data management or wordpress extending funcitons here *///convert date to Twitter style time agofunction date_timeago($time) {	$today 		= time();	$createdday = strtotime($time);	$datediff 	= abs($today - $createdday);	$result 	= "";	$years 		= floor($datediff / (365 * 60 * 60 * 24));	$months 	= floor(($datediff - $years * 365 * 60 * 60 * 24) / (30 * 60 * 60 * 24));	$days 		= floor(($datediff - $years * 365 * 60 * 60 * 24 - $months * 30 * 60 * 60 * 24) / (60 * 60 * 24));	$hours 		= floor($datediff / 3600);	$minutes 	= floor($datediff / 60);	$seconds 	= floor($datediff);	//year checker  	if ($result == "") {		if ($years > 1)			$result = $years . " years ago";		elseif ($years == 1)			$result = $years . " year ago";	}	//month checker  	if ($result == "") {		if ($months > 1)			$result = $months . " months ago";		elseif ($months == 1)			$result = $months . " month ago";	}	//month checker  	if ($result == "") {		if ($days > 1)			$result = $days . " days ago";		elseif ($days == 1)			$result = $days . " day ago";	}	//hour checker  	if ($result == "") {		if ($hours > 1)			$result = $hours . " hours ago";		elseif ($hours == 1)			$result = $hours . " hour ago";	}	//minutes checker  	if ($result == "") {		if ($minutes > 1)			$result = $minutes . " minutes ago";		elseif ($minutes == 1)			$result = $minutes . " minute ago";	}	//seconds checker  	if ($result == "") {		if ($seconds > 1)			$result = $seconds . " seconds ago";		elseif ($seconds == 1)			$result = $seconds . " second ago";	}	return $result;}//Get the current page urlfunction curPageURL() {	$pageURL = 'http';	if (isset($_SERVER["HTTPS"]) && $_SERVER["HTTPS"] == "on") {		$pageURL .= "s";	}	$pageURL .= "://";	if ($_SERVER["SERVER_PORT"] != "80") {		$pageURL .= $_SERVER["SERVER_NAME"] . ":" . $_SERVER["SERVER_PORT"] . $_SERVER["REQUEST_URI"];	} else {		$pageURL .= $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"];	}	return $pageURL;}//Return clean site urlfunction clean_site_url() {	$permalink = get_site_url();	$find_h = '#^http(s)?://#';	$find_w = '/^www\./';	$replace = '';	$output = preg_replace($find_h, $replace, $permalink);	$output = preg_replace($find_w, $replace, $output);	$output = rtrim($output, "/");	return $output;}//Returns a relative URL without the blog_urlfunction get_stripped_url( $url ){	$stripped_url = str_replace( get_site_url(), '', $url );	if (substr($stripped_url, 0, 1) != '/') {		return '/'.$stripped_url;	}	return $stripped_url;}//Returns a URL formatted for external linking with http:// includedfunction force_url_http( $url ){	if (!preg_match('/^http:\/\/.+/', $url))		$url = 'http://'.$url;	return $url;}//Check if current user has a specific rolefunction is_role( $role ){	if( !is_user_logged_in() )		return false;	$user = wp_get_current_user();	if( !in_array( $role, (array) $user->roles ) )		return false;	return true;}function get_pagination() {	global $wp_query;	global $post;		$big = 999999999;	if(have_posts()) :		$paginate_links = paginate_links(array(			'base' => str_replace($big, '%#%', get_pagenum_link($big)),			'current' => max(1, get_query_var('paged')),			'total' => $wp_query->max_num_pages,			'mid_size' => 2,			'prev_next' => true,			'prev_text' => __('Previous'),			'next_text' => __('Next')		));		if ($paginate_links) {			echo '<nav class="pagination">';			echo $paginate_links;			echo '</nav>';		}	endif;}?>